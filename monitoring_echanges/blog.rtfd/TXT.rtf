{\rtf1\ansi\ansicpg1252\cocoartf1343\cocoasubrtf160
{\fonttbl\f0\froman\fcharset0 Times-Roman;}
{\colortbl;\red255\green255\blue255;\red90\green92\blue94;\red3\green40\blue115;\red99\green99\blue99;
}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}}
\paperw11900\paperh16840\margl1440\margr1440\vieww26320\viewh12580\viewkind0
\deftab720
\pard\pardeftab720

\f0\fs34 \cf2 \expnd0\expndtw0\kerning0
Dans un syst\'e8me d\'92information, toute utilisation de flux doit s\'92accompagner d\'92un\'a0monitoring fonctionnel (
\i \expnd0\expndtw0\kerning0
Business Activity Monitor
\i0 \expnd0\expndtw0\kerning0
). Ce monitoring doit fournir \'e0 tout moment l\'92\'e9tat de sant\'e9 et\'a0la performance des fonctions\'a0m\'e9tiers importantes (
\i \expnd0\expndtw0\kerning0
Key Performance Indicator
\i0 \expnd0\expndtw0\kerning0
).\
Pour construire ces dashboards m\'e9tiers il est n\'e9cessaire de\'a0
\fs32 \expnd0\expndtw0\kerning0
collecter
\fs34 \expnd0\expndtw0\kerning0
\'a0la donn\'e9e \'e0 tous niveaux et\'a0
\fs32 \expnd0\expndtw0\kerning0
corr\'e9ler
\fs34 \expnd0\expndtw0\kerning0
\'a0les \'e9v\'e8nements\'a0pour pr\'e9senter une vision\'a0
\fs32 \expnd0\expndtw0\kerning0
agr\'e9g\'e9e
\fs34 \expnd0\expndtw0\kerning0
. Cela revient \'e0\'a0
\fs32 \expnd0\expndtw0\kerning0
monitorer efficacement ses flux inter-applicatifs
\fs34 \expnd0\expndtw0\kerning0
. Ce besoin a toujours exist\'e9\'a0mais le manque de souplesse des outils existant nous ont souvent amen\'e9s \'e0 re-d\'e9velopper\'a0plusieurs fois chez nos clients des 
\fs32 \expnd0\expndtw0\kerning0
solutions
\fs34 \expnd0\expndtw0\kerning0
 
\fs32 \expnd0\expndtw0\kerning0
sp\'e9cifiques
\fs34 \expnd0\expndtw0\kerning0
. Ce monitoring\'a0et cette gestion des erreurs sert souvent de base \'e0 un syst\'e8me de rejeu de message.\
Le monitoring de flux a \'e9volu\'e9 avec les outils d\'92\'e9changes pour s\'92adapter aux nouvelles contraintes et apporter\'a0de nouvelles fonctionnalit\'e9s. Pour comprendre les besoins et enjeux futurs de ce domaine il est n\'e9cessaire\'a0de connaitre les limites des solutions pass\'e9es et actuelles.\
\
\pard\pardeftab720

\fs78 \cf3 \expnd0\expndtw0\kerning0
Pass\'e9 : Centralisation & SGBD\
\pard\pardeftab720

\fs42 \cf2 \expnd0\expndtw0\kerning0
L\'92EAI, au secours du \'ab\'a0spaghettis-ware\'a0\'bb\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
Au d\'e9but des ann\'e9es 2000, faisant le constat que toutes les applications \'e9taient interconnect\'e9es de mani\'e8re d\'e9sorganis\'e9e et opportuniste, les organisations ont introduit les outils d\'92Enterprise Application Integration (EAI). Cela a permis de reprendre le contr\'f4le en impl\'e9mentant et documentant l\'92ensemble des flux \'e0 un endroit unique. Malheureusement, ces outils n\'92apportaient pas de solution satisfaisante pour persister, restituer ou corr\'e9ler un historique des flux.\
\pard\pardeftab720

\fs42 \cf2 \expnd0\expndtw0\kerning0
La persistance au travers de la base de donn\'e9es\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
D\'e8s lors chacun s\'92est mis \'e0 impl\'e9menter sa propre solution, s\'92appuyant g\'e9n\'e9ralement sur une base de donn\'e9es relationnelle. Cette centralisation a conduit a la mise en place de r\'e8gles qui restent vraies aujourd\'92hui :\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls1\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	\'95	}\expnd0\expndtw0\kerning0
Pour ne pas avoir de baisse de performance les informations doivent \'eatre\'a0envoy\'e9es sous forme d\'92
\fs32 \expnd0\expndtw0\kerning0
\'e9v\'e8nements asynchrones
\fs34 \expnd0\expndtw0\kerning0
 (pattern {\field{\*\fldinst{HYPERLINK "http://www.enterpriseintegrationpatterns.com/WireTap.html"}}{\fldrslt \cf3 \expnd0\expndtw0\kerning0
wiretap}}). Pour cela on s\'92appuie sur un middleware de messages, g\'e9n\'e9ralement le m\'eame que celui utilis\'e9 pour les flux. La cons\'e9quence est une importante augmentation du nombre de messages.\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls2\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	\'95	}\expnd0\expndtw0\kerning0
Un \'e9chec dans la piste d\'92audit 
\fs32 \expnd0\expndtw0\kerning0
ne doit pas impacter
\fs34 \expnd0\expndtw0\kerning0
 le traitement principal.\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls3\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	\'95	}\expnd0\expndtw0\kerning0
Chaque \'e9change doit avoir un identifiant unique (
\i \expnd0\expndtw0\kerning0
correlation id
\i0 \expnd0\expndtw0\kerning0
), qui doit \'eatre port\'e9 par tous ses messages. \'a0Cet identifiant doit \'e9galement se retrouver dans les messages d\'92audit pour pouvoir reconstituer le flux.\'a0Les messages d\'92un m\'eame flux doivent partager un identifier unique.\
\ls3\ilvl0\kerning1\expnd0\expndtw0 {\listtext	\'95	}\expnd0\expndtw0\kerning0
La base de donn\'e9es doit \'eatre utilis\'e9e pour 
\fs32 \expnd0\expndtw0\kerning0
stocker les messages et non pas les\'a0\'e9tats des \'e9changes
\fs34 \expnd0\expndtw0\kerning0
. Vouloir\'a0mod\'e9liser l\'92\'e9tat de chaque \'e9change n\'e9cessite d\'92impl\'e9menter des r\'e8gles fonctionnelles dans l\'92outil de monitoring, et aboutit souvent\'a0\'e0 la cr\'e9ation\'a0de strat\'e9gies de rejeu partiel complexes.\
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://blog.octo.com/wp-content/uploads/2014/11/Capture-d%E2%80%99%C3%A9cran-2014-11-03-%C3%A0-14.49.30.png"}}{\fldrslt \cf3 \expnd0\expndtw0\kerning0
{{\NeXTGraphic Capture-dâ€™Ã©cran-2014-11-03-Ã -14.49.30.png \width6940 \height5940 \noorient
}¬}\pard\pardeftab720
\cf3 \expnd0\expndtw0\kerning0
\
}}\pard\pardeftab720

\i\fs24 \cf4 \expnd0\expndtw0\kerning0
Centralisation & SGBD\
\pard\pardeftab720

\i0\fs34 \cf2 \expnd0\expndtw0\kerning0
Les briques essentielles \'e9taient d\'e9j\'e0 pos\'e9es : des composant produisent et envoient sous forme d\'92\'e9v\'e9nements des donn\'e9es\'a0pour collecte et persistance dans un module d\'e9di\'e9.\
\pard\pardeftab720

\fs42 \cf2 \expnd0\expndtw0\kerning0
Force, faiblesses et limites\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
La force est\'a0de\'a0capturer et superviser\'a0tous les \'e9changes inter-applicatifs dans un outil unique. En revanche ce composant, devenu central, devait \'eatre d\'e9ploy\'e9 en haute disponibilit\'e9\'a0et disposer de capacit\'e9s de scaling et de failover robustes sans quoi il devenait un 
\i \expnd0\expndtw0\kerning0
single point of failure
\i0 \expnd0\expndtw0\kerning0
.\
Le nombre d\'92applications allant croissant, les limites de la base relationnelle ont \'e9t\'e9 atteintes en terme de 
\fs32 \expnd0\expndtw0\kerning0
vitesse d\'92\'e9criture
\fs34 \expnd0\expndtw0\kerning0
 (hit ratio) mais \'e9galement de 
\fs32 \expnd0\expndtw0\kerning0
volume
\fs34 \expnd0\expndtw0\kerning0
. En l\'92absence de sharding, le grand nombre d\'92enregistrements p\'e9nalisait les temps de traitement. On le verra, la solution sera apport\'e9e par des bases non relationnelles.\
De la m\'eame mani\'e8re, l\'92augmentation du trafic de donn\'e9es pouvait atteindre la limite du\'a0broker de messages (surtout s\'92il \'e9tait \'e9galement utilis\'e9 par les flux). Dans ce cas il\'a0devient n\'e9cessaire de d\'e9centraliser la collecte et parfois de changer de middleware.\
On peut enfin noter\'a0que d\'92un point de vue organisationnel, le monitoring assur\'e9 par la\'a0brique centrale permet\'a0aux applications de se 
\fs32 \expnd0\expndtw0\kerning0
d\'e9sengager
\fs34 \expnd0\expndtw0\kerning0
 en cas d\'92incident et\'a0p\'e9nalise les diagnostics.\
\pard\pardeftab720

\fs78 \cf3 \expnd0\expndtw0\kerning0
Pr\'e9sent : D\'e9centralisation et NoSQL\
\pard\pardeftab720

\fs42 \cf2 \expnd0\expndtw0\kerning0
Architecture 
\i \expnd0\expndtw0\kerning0
Enterprise Service Bus
\i0 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
L\'92ESB est avant tout\'a0un style d\'92architecture dans lequel les applications exposent des services avec des technologies standards (web services, JMS). Elles deviennent responsables du service (par opposition au monde de l\'92EAI)\'a0et\'a0sont en
\fs32 \expnd0\expndtw0\kerning0
 charge de fournir\'a0les informations de monitoring
\fs34 \expnd0\expndtw0\kerning0
.\
Afin d\'92obtenir une vision plus large\'a0et permettre des\'a0diagnostics plus pr\'e9cis, le scope des m\'e9triques envoy\'e9es est 
\fs32 \expnd0\expndtw0\kerning0
\'e9largi
\fs34 \expnd0\expndtw0\kerning0
. On ne mesure plus uniquement des flux transmis mais \'e9galement des informations propres aux applications (logs, utilisation de\'a0ressources).\'a0Les donn\'e9es sont\'a0beaucoup plus 
\fs32 \expnd0\expndtw0\kerning0
h\'e9t\'e9rog\'e8nes
\fs34 \expnd0\expndtw0\kerning0
. \'c0 ce titre, les \'e9v\'e8nements ne sont plus uniquement pouss\'e9s vers le brique de monitoring (mode push) mais \'e9galement extraites au travers de polling ou autre listener (mode pull).\
Un traitement pouvant donner lieu \'e0 plusieurs \'e9changes de messages, l\'92identifiant de correlation doit \'eatre propag\'e9 par les applications dans toute la cha\'eene.\
\pard\pardeftab720

\fs42 \cf2 \expnd0\expndtw0\kerning0
Repousser les limites\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
Du fait de la multiplication des applications et des types de messages, le syst\'e8me doit \'eatre capable de g\'e9rer des \'e9v\'e8nements h\'e9t\'e9rog\'e8nes et en\'a0nombre bien plus important qu\'92auparavant.\
Les middleware de messages\'a0historiques (JMS) n\'92ont plus la capacit\'e9 de traiter efficacement un tel d\'e9bit, il est donc n\'e9cessaire de\'a0sp\'e9cialiser les syst\'e8mes de communications (AMQP, SNMP, rsyslog, ZeroMQ).\
L\'92augmentation\'a0de volume implique l\'92utilisation d\'92une base de donn\'e9e permettant\'a0de partitionner les donn\'e9es\'a0(sharding). Cette fonctionnalit\'e9 est souvent pr\'e9sente mais n\'92est pas support\'e9e de le m\'eame mani\'e8re\'a0sur les diff\'e9rentes base de donn\'e9es SQL.\'a0En revanche les outils NoSQL\'a0la supportent souvent tr\'e8s bien et\'a0simplifieront la gestion des messages h\'e9t\'e9rog\'e8nes gr\'e2ce \'e0 leur caract\'e8re schemaless.\
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://blog.octo.com/wp-content/uploads/2014/11/Capture-d%E2%80%99%C3%A9cran-2014-11-03-%C3%A0-16.39.47.png"}}{\fldrslt \cf3 \expnd0\expndtw0\kerning0
{{\NeXTGraphic Capture-dâ€™Ã©cran-2014-11-03-Ã -16.39.47-1024x468.png \width20480 \height9360 \noorient
}¬}\pard\pardeftab720
\cf3 \expnd0\expndtw0\kerning0
\
}}\pard\pardeftab720

\i\fs24 \cf4 \expnd0\expndtw0\kerning0
D\'e9centralisation et NoSQL\
\pard\pardeftab720

\i0\fs42 \cf2 \expnd0\expndtw0\kerning0
De nouvelles fonctionnalit\'e9s\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
L\'92\'e9mergence\'a0de nouveaux outils dans le SI va permettre d\'92ajouter de nouvelles fonctionnalit\'e9s au monitoring:\
\pard\tx220\tx720\pardeftab720\li720\fi-720
\ls4\ilvl0\cf2 \kerning1\expnd0\expndtw0 {\listtext	\'95	}\expnd0\expndtw0\kerning0
le 
\i \expnd0\expndtw0\kerning0
complex event processing\'a0
\i0 \expnd0\expndtw0\kerning0
(CEP) en amont de la base de donn\'e9e va permettre de mat\'e9rialiser l\'92\'e9tat du syst\'e8me\'a0et de d\'e9clencher des actions suivant\'a0des r\'e8gles m\'e9tiers\
\ls4\ilvl0\kerning1\expnd0\expndtw0 {\listtext	\'95	}\expnd0\expndtw0\kerning0
les syst\'e8mes de BAM (
\i \expnd0\expndtw0\kerning0
business activity monitoring
\i0 \expnd0\expndtw0\kerning0
) permettent de b\'e2tir des dashboard avec d\'92avantage de valeur m\'e9tier\
\ls4\ilvl0\kerning1\expnd0\expndtw0 {\listtext	\'95	}\expnd0\expndtw0\kerning0
Elastic Search permet facilement d\'92agr\'e9ger les messages et d\'92indexer\'a0leur contenu\
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://blog.octo.com/wp-content/uploads/2014/11/Capture-d%E2%80%99%C3%A9cran-2014-11-03-%C3%A0-16.39.52.png"}}{\fldrslt \cf3 \expnd0\expndtw0\kerning0
{{\NeXTGraphic Capture-dâ€™Ã©cran-2014-11-03-Ã -16.39.52-1024x573.png \width20480 \height11460 \noorient
}¬}\pard\pardeftab720
\cf3 \expnd0\expndtw0\kerning0
\
}}\pard\pardeftab720

\i\fs24 \cf4 \expnd0\expndtw0\kerning0
Introduction du CEP\
\pard\pardeftab720

\i0\fs42 \cf2 \expnd0\expndtw0\kerning0
Les\'a0nouvelles limites\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
Bien que grandement am\'e9lior\'e9es par rapport aux solutions\'a0historiques, les brokers\'a0de messages\'a0employ\'e9s ne scalent pas ind\'e9finiment. Au del\'e0 de 10 000 messages par secondes on atteint les limites de tels syst\'e8mes.\
La dur\'e9e de r\'e9tention des donn\'e9es sur ce type de stockage est limit\'e9e, on privil\'e9gie des syst\'e8me d\'92index tournant pour afin de favoriser les performances des\'a0requ\'eates.\
Enfin, pour passer de quelques agr\'e9gations simples \'e0 de l\'92analyse de donn\'e9es plus \'e9labor\'e9e, les solutions \'ab\'a0fait-main\'a0\'bb deviennent insuffisantes : \'a0il faut\'a0utiliser des outils d\'e9di\'e9s.\
\pard\pardeftab720

\fs78 \cf3 \expnd0\expndtw0\kerning0
Futur\'a0: Fast\'a0& Big Data\
\pard\pardeftab720

\fs42 \cf2 \expnd0\expndtw0\kerning0
Une explosion de messages\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
Port\'e9s par des nouveaux usages (applications mobiles, internet des objects) et les nouvelles architectures de micro-services, le nombre de messages et d\'92applications continue \'e0 augmenter.\
Il faut repenser l\'92architecture du middleware de message pour le d\'e9centraliser \'e0 son tour. 
\fs32 \expnd0\expndtw0\kerning0
Kafka
\fs34 \expnd0\expndtw0\kerning0
 nous semble aujourd\'92hui la solution la plus robuste pour r\'e9pondre \'e0 ces enjeux dits de \'ab\'a0
\i \expnd0\expndtw0\kerning0
Fast Data
\i0 \expnd0\expndtw0\kerning0
\'ab\'a0.\
L\'92int\'e9gration de messages dans le syst\'e8me de stockage doit \'e9galement \'eatre optimis\'e9 pour ne pas devenir le goulet d\'92\'e9tranglement. On parle alors d\'92 \'ab\'a0Event Streaming\'a0\'bb. Les solutions envisageables sont {\field{\*\fldinst{HYPERLINK "https://storm.apache.org/"}}{\fldrslt \cf3 \expnd0\expndtw0\kerning0
Apache\'a0Storm}}\'a0et{\field{\*\fldinst{HYPERLINK "https://spark.apache.org/streaming/"}}{\fldrslt \cf3 \expnd0\expndtw0\kerning0
\'a0Apache Spark Streaming}}.\
Le stockage de donn\'e9es de tr\'e8s gros volume sera r\'e9alis\'e9 sur HDFS. (Hadoop). Les traitements analytiques comme par exemple du capacity planning, seront r\'e9alis\'e9s en utilisant des algorithmes de map reduce. Le stockage NoSQL quant \'e0 lui pourra \'eatre conserv\'e9 pour des besoins de requ\'eatage rapide sur des donn\'e9es r\'e9centes.\
\pard\pardeftab720
{\field{\*\fldinst{HYPERLINK "http://blog.octo.com/wp-content/uploads/2014/11/Capture-d%E2%80%99%C3%A9cran-2014-11-03-%C3%A0-17.55.06.png"}}{\fldrslt \cf3 \expnd0\expndtw0\kerning0
{{\NeXTGraphic Capture-dâ€™Ã©cran-2014-11-03-Ã -17.55.06-1024x542.png \width20480 \height10840 \noorient
}¬}\pard\pardeftab720
\cf3 \expnd0\expndtw0\kerning0
\
}}\pard\pardeftab720

\i\fs24 \cf4 \expnd0\expndtw0\kerning0
Fast & Big Data\
\pard\pardeftab720

\i0\fs34 \cf2 \expnd0\expndtw0\kerning0
\'a0\
\pard\pardeftab720

\fs78 \cf3 \expnd0\expndtw0\kerning0
Conclusion\
\pard\pardeftab720

\fs34 \cf2 \expnd0\expndtw0\kerning0
Aujourd\'92hui les stacks technologiques permettent d\'92adresser les besoins les plus exigeants en terme de volum\'e9trie \'e0 condition d\'92en accepter d\'92en payer le prix. En effet cela implique une complexit\'e9 importante en terme d\'92infrastructure et d\'92architecture applicative aussi \'e9lev\'e9e que le syst\'e8me monitor\'e9.\
En revanche, il n\'92existe toujours pas d\'92outil miracle pour impl\'e9menter du monitoring fonctionnel. Ce\'a0n\'92est pas surprenant, car pour construire une solution pertinente, l\'92outil de monitoring doit embarquer une part importante de r\'e8gles m\'e9tiers.}